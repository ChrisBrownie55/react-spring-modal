import{createPortal as e}from"react-dom";import n from"react-use/lib/useLockBodyScroll";import"wicg-inert";import{useEffect as t,useMemo as r,forwardRef as o,useCallback as a,useRef as l}from"react";import{animated as i,useTransition as s}from"react-spring";import c from"@chbphone55/classnames";var u=globalThis.document?document.querySelector("#modal-root"):null;function m(n){var o=n.children,a=r(function(){return globalThis.document?document.createElement("div"):null},[]);return t(function(){return u&&a&&u.appendChild(a),function(){u&&a&&u.removeChild(a)}},[a]),a?e(o,a):null}var d=o(function(e,n){var t=e.className,r=e.onClick,o=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===n.indexOf(r)&&(t[r]=e[r]);return t}(e,["className","onClick"]),l=a(function(e){n.current===e.target&&r(e)},[r,n]);return h(i.div,Object.assign({},{ref:n,onClick:l,className:c("ModalBackdrop",t)},o))}),p=globalThis.document?document.getElementById("root"):null;function f(e){var r=e.isOpen,o=e.onRequestClose,a=e.children;n(r);var i=l(null),c=l(null),u=s(r,null,{"--opacity":0,from:{"--opacity":0},enter:{"--opacity":.5},leave:{"--opacity":0},onRest:function(){if(c.current&&r){var e=c.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');e.length&&e[0].focus()}}});return t(function(){function e(e){"Escape"===e.key&&o()}return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}},[o]),t(function(){r?(globalThis.document&&(i.current=document.activeElement),p&&p.setAttribute("inert","")):(p&&p.removeAttribute("inert"),setTimeout(function(){i.current&&i.current.focus()},0))},[r]),h(m,null,u.map(function(e){return e.item?h(d,{key:e.key,className:"BottomModal__backdrop",style:e.props,onClick:o,"aria-modal":"true",role:"dialog",ref:c},a):null}))}function v(e){var n=e.isOpen,t=e.onRequestClose,r=e.className,o=e.modalTransition;void 0===o&&(o=function(e,n){return void 0===n&&(n={}),s(e,null,Object.assign({},{from:{opacity:0},enter:{opacity:1},leave:{opacity:0}},n))}(n));var a=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===n.indexOf(r)&&(t[r]=e[r]);return t}(e,["isOpen","onRequestClose","className","modalTransition"]);return h(f,{isOpen:n,onRequestClose:t},o.map(function(e){return e.item?h(i.div,Object.assign({},{key:e.key,style:e.props,className:c("CenterModal shadow-lg",r)},a)):null}))}function y(e){var n=e.children,t=e.isOpen,r=e.onRequestClose,o=e.className,a=e.modalTransition;void 0===a&&(a=s(t,null,{from:{transform:"translateY(100%) translateX(-50%)"},enter:{transform:"translateY(0%) translateX(-50%)"},leave:{transform:"translateY(100%) translateX(-50%)"}}));var l=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===n.indexOf(r)&&(t[r]=e[r]);return t}(e,["children","isOpen","onRequestClose","className","modalTransition"]);return h(f,{isOpen:t,onRequestClose:r},a.map(function(e){return e.item?h(i.div,Object.assign({},{className:c("BottomModal shadow-lg",o),key:e.key,style:e.props},l),n):null}))}export{m as ModalPortal,d as ModalBackdrop,f as BaseModal,v as CenterModal,y as BottomModal};
//# sourceMappingURL=index.m.js.map
